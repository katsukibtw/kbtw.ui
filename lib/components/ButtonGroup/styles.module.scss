.kbuttongroup {
  display: flex;
  gap: 0;
  overflow: hidden;
  border: 1px solid var(--accent-color);

  & > *:not(:first-child),
  & > *:not(:last-child) {
    border-radius: 0 !important;
    border-top-color: tranparent;
    border-bottom-color: tranparent;
  }

  & > *:first-child {
    border-radius: var(--kbtw-ui-corners) 0 0 var(--kbtw-ui-corners) !important;
    border-top-color: tranparent;
    border-bottom-color: tranparent;
    border-left-color: tranparent;
  }

  & > *:last-child {
    border-radius: 0 var(--kbtw-ui-corners) var(--kbtw-ui-corners) 0 !important;
    border-top-color: tranparent;
    border-bottom-color: tranparent;
    border-right-color: tranparent;
  }

  &__primary {
    &__light {
      --accent-color: var(--kbtw-color-primary-400, #f0b27a);
      --solid-fg-color: var(--kbtw-color-primary-0, #23201e);
      --fg-color: var(--accent-color);
      --shade-color: var(--kbtw-color-primary-300);
      --soft-bg-color: var(--kbtw-color-primary-200);
      --soft-fg-color: var(--kbtw-color-primary-500);

      & > * {
        --accent-color: var(--kbtw-color-primary-400, #f0b27a) !important;
        --solid-fg-color: var(--kbtw-color-primary-0, #23201e) !important;
        --fg-color: var(--accent-color) !important;
        --shade-color: var(--kbtw-color-primary-300) !important;
        --soft-bg-color: var(--kbtw-color-primary-200) !important;
        --soft-fg-color: var(--kbtw-color-primary-500) !important;
      }
    }
    &__dark {
      --accent-color: var(--kbtw-color-primary-100, #f0b27a);
      --solid-fg-color: var(--kbtw-color-primary-900, #23201e);
      --fg-color: var(--accent-color);
      --shade-color: var(--kbtw-color-primary-50);
      --soft-bg-color: hsl(
        from var(--kbtw-color-primary-800) h calc(s * 0.4) l
      );
      --soft-fg-color: var(--kbtw-color-primary-100);

      & > * {
        --accent-color: var(--kbtw-color-primary-100, #f0b27a) !important;
        --solid-fg-color: var(--kbtw-color-primary-900, #23201e) !important;
        --fg-color: var(--accent-color) !important;
        --shade-color: var(--kbtw-color-primary-50) !important;
        --soft-bg-color: hsl(
          from var(--kbtw-color-primary-800) h calc(s * 0.6) l
        ) !important;
        --soft-fg-color: var(--kbtw-color-primary-100) !important;
      }
    }
  }

  &__secondary {
    &__light {
      --accent-color: var(--kbtw-color-secondary-400, #a2d9ce);
      --solid-fg-color: var(--kbtw-color-secondary-0, #23201e);
      --fg-color: var(--accent-color);
      --shade-color: var(--kbtw-color-secondary-300);
      --soft-bg-color: var(--kbtw-color-secondary-200);
      --soft-fg-color: var(--kbtw-color-secondary-500);

      & > * {
        --accent-color: var(--kbtw-color-secondary-400, #a2d9ce) !important;
        --solid-fg-color: var(--kbtw-color-secondary-0, #23201e) !important;
        --fg-color: var(--accent-color) !important;
        --shade-color: var(--kbtw-color-secondary-300) !important;
        --soft-bg-color: var(--kbtw-color-secondary-200) !important;
        --soft-fg-color: var(--kbtw-color-secondary-500) !important;
      }
    }
    &__dark {
      --accent-color: var(--kbtw-color-secondary-100, #a2d9ce);
      --solid-fg-color: var(--kbtw-color-secondary-900, #23201e);
      --fg-color: var(--accent-color);
      --shade-color: var(--kbtw-color-secondary-50);
      --soft-bg-color: hsl(
        from var(--kbtw-color-secondary-800) h calc(s * 0.6) l
      );
      --soft-fg-color: var(--kbtw-color-secondary-100);

      & > * {
        --accent-color: var(--kbtw-color-secondary-100, #a2d9ce) !important;
        --solid-fg-color: var(--kbtw-color-secondary-900, #23201e) !important;
        --fg-color: var(--accent-color) !important;
        --shade-color: var(--kbtw-color-secondary-50) !important;
        --soft-bg-color: hsl(
          from var(--kbtw-color-secondary-800) h calc(s * 0.6) l
        ) !important;
        --soft-fg-color: var(--kbtw-color-secondary-100) !important;
      }
    }
  }

  &__normal {
    &__light {
      --accent-color: var(--kbtw-color-normal-600, #f0b27a);
      --solid-fg-color: var(--kbtw-color-normal-0, #23201e);
      --fg-color: var(--accent-color);
      --shade-color: var(--kbtw-color-normal-500);
      --soft-bg-color: hsl(from var(--kbtw-color-normal-400) h s calc(l * 1.3));
      --soft-fg-color: var(--kbtw-color-normal-500);

      & > * {
        --accent-color: var(--kbtw-color-normal-600, #23201e) !important;
        --solid-fg-color: var(--kbtw-color-normal-0, #23201e) !important;
        --fg-color: var(--accent-color) !important;
        --shade-color: var(--kbtw-color-normal-300) !important;
        --soft-bg-color: hsl(
          from var(--kbtw-color-normal-400) h s calc(l * 1.3)
        ) !important;
        --soft-fg-color: var(--kbtw-color-normal-500) !important;
      }
    }
    &__dark {
      --accent-color: var(--kbtw-color-normal-50, #f0b27a);
      --solid-fg-color: var(--kbtw-color-normal-900, #23201e);
      --fg-color: var(--accent-color);
      --shade-color: var(--kbtw-color-normal-0);
      --soft-bg-color: var(--kbtw-color-normal-700);
      --soft-fg-color: var(--kbtw-color-normal-50);

      & > * {
        --accent-color: var(--kbtw-color-normal-50, #23201e) !important;
        --solid-fg-color: var(--kbtw-color-normal-900, #23201e) !important;
        --fg-color: var(--accent-color) !important;
        --shade-color: var(--kbtw-color-normal-0) !important;
        --soft-bg-color: var(--kbtw-color-normal-700) !important;
        --soft-fg-color: var(--kbtw-color-normal-50) !important;
      }
    }
  }

  &__warning {
    &__light {
      --accent-color: var(--kbtw-color-warning-400, #a2d9ce);
      --solid-fg-color: var(--kbtw-color-warning-0, #23201e);
      --fg-color: var(--accent-color);
      --shade-color: var(--kbtw-color-warning-300);
      --soft-bg-color: var(--kbtw-color-warning-400);
      --soft-fg-color: var(--kbtw-color-warning-600);

      & > * {
        --accent-color: var(--kbtw-color-warning-400, #a2d9ce) !important;
        --solid-fg-color: var(--kbtw-color-warning-0, #23201e) !important;
        --fg-color: var(--accent-color) !important;
        --shade-color: var(--kbtw-color-warning-300) !important;
        --soft-bg-color: var(--kbtw-color-warning-400) !important;
        --soft-fg-color: var(--kbtw-color-warning-600) !important;
      }
    }
    &__dark {
      --accent-color: var(--kbtw-color-warning-100, #a2d9ce);
      --solid-fg-color: var(--kbtw-color-warning-900, #23201e);
      --fg-color: var(--accent-color);
      --shade-color: var(--kbtw-color-warning-50);
      --soft-bg-color: hsl(
        from var(--kbtw-color-warning-800) h calc(s * 0.6) l
      );
      --soft-fg-color: var(--kbtw-color-warning-100);

      & > * {
        --accent-color: var(--kbtw-color-warning-100, #a2d9ce) !important;
        --solid-fg-color: var(--kbtw-color-warning-900, #23201e) !important;
        --fg-color: var(--accent-color) !important;
        --shade-color: var(--kbtw-color-warning-50) !important;
        --soft-bg-color: hsl(
          from var(--kbtw-color-warning-800) h calc(s * 0.6) l
        ) !important;
        --soft-fg-color: var(--kbtw-color-warning-100) !important;
      }
    }
  }

  &__destructive {
    &__light {
      --accent-color: var(--kbtw-color-destructive-500, #a2d9ce);
      --solid-fg-color: var(--kbtw-color-destructive-0, #23201e);
      --fg-color: var(--accent-color);
      --shade-color: var(--kbtw-color-destructive-300);
      --soft-bg-color: var(--kbtw-color-destructive-100);
      --soft-fg-color: var(--kbtw-color-destructive-600);

      & > * {
        --accent-color: var(--kbtw-color-destructive-500, #a2d9ce) !important;
        --solid-fg-color: var(--kbtw-color-destructive-0, #23201e) !important;
        --fg-color: var(--accent-color) !important;
        --shade-color: var(--kbtw-color-destructive-300) !important;
        --soft-bg-color: var(--kbtw-color-destructive-100) !important;
        --soft-fg-color: var(--kbtw-color-destructive-600) !important;
      }
    }
    &__dark {
      --accent-color: var(--kbtw-color-destructive-100, #a2d9ce);
      --solid-fg-color: var(--kbtw-color-destructive-900, #23201e);
      --fg-color: var(--accent-color);
      --shade-color: var(--kbtw-color-destructive-50);
      --soft-bg-color: hsl(
        from var(--kbtw-color-destructive-800) h calc(s * 0.6) l
      );
      --soft-fg-color: var(--kbtw-color-destructive-100);

      & > * {
        --accent-color: var(--kbtw-color-destructive-100, #a2d9ce) !important;
        --solid-fg-color: var(--kbtw-color-destructive-900, #23201e) !important;
        --fg-color: var(--accent-color) !important;
        --shade-color: var(--kbtw-color-destructive-50) !important;
        --soft-bg-color: hsl(
          from var(--kbtw-color-destructive-800) h calc(s * 0.6) l
        ) !important;
        --soft-fg-color: var(--kbtw-color-destructive-100) !important;
      }
    }
  }

  &__error {
    &__light {
      --accent-color: var(--kbtw-color-error-500, #a2d9ce);
      --solid-fg-color: var(--kbtw-color-error-0, #23201e);
      --fg-color: var(--accent-color);
      --shade-color: var(--kbtw-color-error-300);
      --soft-bg-color: hsl(from var(--kbtw-color-error-200) h s calc(l * 1.1));
      --soft-fg-color: var(--kbtw-color-error-600);

      & > * {
        --accent-color: var(--kbtw-color-error-500, #a2d9ce) !important;
        --solid-fg-color: var(--kbtw-color-error-0, #23201e) !important;
        --fg-color: var(--accent-color) !important;
        --shade-color: var(--kbtw-color-error-300) !important;
        --soft-bg-color: hsl(
          from var(--kbtw-color-error-200) h s calc(l * 1.1)
        ) !important;
        --soft-fg-color: var(--kbtw-color-error-600) !important;
      }
    }
    &__dark {
      --accent-color: var(--kbtw-color-error-100, #a2d9ce);
      --solid-fg-color: var(--kbtw-color-error-900, #23201e);
      --fg-color: var(--accent-color);
      --shade-color: var(--kbtw-color-error-50);
      --soft-bg-color: hsl(from var(--kbtw-color-error-800) h calc(s * 0.6) l);
      --soft-fg-color: var(--kbtw-color-error-100);

      & > * {
        --accent-color: var(--kbtw-color-error-100, #a2d9ce) !important;
        --solid-fg-color: var(--kbtw-color-error-900, #23201e) !important;
        --fg-color: var(--accent-color) !important;
        --shade-color: var(--kbtw-color-error-50) !important;
        --soft-bg-color: hsl(
          from var(--kbtw-color-error-800) h calc(s * 0.6) l
        ) !important;
        --soft-fg-color: var(--kbtw-color-error-100) !important;
      }
    }
  }

  &__calm {
    &__light {
      --accent-color: var(--kbtw-color-calm-400, #a2d9ce);
      --solid-fg-color: var(--kbtw-color-calm-0, #23201e);
      --fg-color: var(--accent-color);
      --shade-color: var(--kbtw-color-calm-300);
      --soft-bg-color: var(--kbtw-color-calm-200);
      --soft-fg-color: var(--kbtw-color-calm-500);

      & > * {
        --accent-color: var(--kbtw-color-calm-400, #a2d9ce) !important;
        --solid-fg-color: var(--kbtw-color-calm-0, #23201e) !important;
        --fg-color: var(--accent-color) !important;
        --shade-color: var(--kbtw-color-calm-300) !important;
        --soft-bg-color: var(--kbtw-color-calm-200) !important;
        --soft-fg-color: var(--kbtw-color-calm-500) !important;
      }
    }
    &__dark {
      --accent-color: var(--kbtw-color-calm-100, #a2d9ce);
      --solid-fg-color: var(--kbtw-color-calm-900, #23201e);
      --fg-color: var(--accent-color);
      --shade-color: var(--kbtw-color-calm-50);
      --soft-bg-color: hsl(from var(--kbtw-color-calm-800) h calc(s * 0.6) l);
      --soft-fg-color: var(--kbtw-color-calm-100);

      & > * {
        --accent-color: var(--kbtw-color-calm-100, #a2d9ce) !important;
        --solid-fg-color: var(--kbtw-color-calm-900, #23201e) !important;
        --fg-color: var(--accent-color) !important;
        --shade-color: var(--kbtw-color-calm-50) !important;
        --soft-bg-color: hsl(
          from var(--kbtw-color-calm-800) h calc(s * 0.6) l
        ) !important;
        --soft-fg-color: var(--kbtw-color-calm-100) !important;
      }
    }
  }

  &__solid > * {
    background: var(--accent-color) !important;
    border: 1px solid var(--accent-color);
    color: var(--solid-fg-color) !important;

    border-right-color: var(--solid-fg-color);

    &:hover {
      transition-property: background, color, border-color;
      transition-duration: 0.4s;
      transition-timing-function: ease;
      background: var(--shade-color);
      border-color: var(--shade-color);
      border-right-color: var(--solid-fg-color);
    }

    &:active {
      transition-property: background, color, border-color;
      transition-duration: 0.2s;
      transition-timing-function: ease;
      background: var(--accent-color);
      border-color: var(--shade-color);
    }

    &:disabled {
      transition-property: background, color, border-color;
      transition-duration: 0.2s;
      transition-timing-function: ease;
      background: var(--disabled-color);
    }
  }

  &__outlined {
    border: 1px solid hsl(from var(--accent-color) h s l / 0.5);

    & > * {
      background: transparent;
      border: 1px solid hsl(from var(--accent-color) h s l / 0.5);
      color: var(--fg-color);

      border-top-color: transparent;
      border-bottom-color: transparent;
      border-left-color: transparent;

      &:hover {
        transition-property: background, color, border-color;
        transition-duration: 0.4s;
        transition-timing-function: ease;
        background: hsl(
          from var(--soft-bg-color) h calc(s * 1.25) calc(l * 1.25)
        );
        border-color: hsl(from var(--shade-color) h s l / 0.75);
      }
      &:disabled {
        transition-property: background, color, border-color;
        transition-duration: 0.2s;
        transition-timing-function: ease;
        background: var(--disabled-color);
      }
    }
  }

  &__plain {
    border: 1px solid transparent;

    & > * {
      background: transparent;
      border: 1px solid transparent;
      color: var(--fg-color);

      &:hover {
        transition-property: background, color, border-color;
        transition-duration: 0.4s;
        transition-timing-function: ease;
        background: hsl(
          from var(--soft-bg-color) h calc(s * 1.25) calc(l * 1.25)
        );
        border-color: hsl(from var(--shade-color) h s l / 0.75);
      }
      &:disabled {
        transition-property: background, color, border-color;
        transition-duration: 0.2s;
        transition-timing-function: ease;
        background: var(--disabled-color);
      }
    }
  }

  &__soft {
    border: 1px solid hsl(from var(--accent-color) h s l / 0.3);

    & > * {
      background: hsl(
        from var(--soft-bg-color) h calc(s * 1.2) calc(l * 1.2) / 0.4
      ) !important;
      border: 1px solid hsl(from var(--accent-color) h s l / 0.3);
      color: var(--soft-fg-color);

      border-left-color: hsl(
        from var(--soft-bg-color) h calc(s * 1.2) calc(l * 1.2) / 0.4
      );
      border-top-color: hsl(
        from var(--soft-bg-color) h calc(s * 1.2) calc(l * 1.2) / 0.4
      );
      border-bottom-color: hsl(
        from var(--soft-bg-color) h calc(s * 1.2) calc(l * 1.2) / 0.4
      );

      &:hover {
        transition-property: background, color, border-color;
        transition-duration: 0.4s;
        transition-timing-function: ease;
        background: hsl(
          from var(--soft-bg-color) h calc(s * 1.25) calc(l * 1.25)
        ) !important;
      }
      &:disabled {
        transition-property: background, color, border-color;
        transition-duration: 0.2s;
        transition-timing-function: ease;
        background: var(--disabled-color);
      }
    }
  }
}
